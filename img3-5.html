<?php
$year = date("Y");
$month = date("n");
$today = date("j");

$first_day = mktime(0, 0, 0, $month, 1, $year);
$first_day_weekday = date("w", $first_day);
$total_days = date("t", $first_day);

echo "<h2>{$year}년 {$month}월</h2>";
echo "<table border='1' cellpadding='10'>";
echo "<tr>
        <th style='color:red'>일</th>
        <th>월</th><th>화</th><th>수</th><th>목</th><th>금</th>
        <th style='color:blue'>토</th>
      </tr>";

echo "<tr>";

// 앞쪽 빈 칸
for ($i = 0; $i < $first_day_weekday; $i++) {
    echo "<td></td>";
}

$week_day = $first_day_weekday;
for ($day = 1; $day <= $total_days; $day++) {
    $style = "";
    if ($week_day == 0) $style = "color:red";      // 일요일
    if ($week_day == 6) $style = "color:blue";     // 토요일
    if ($day == $today) $style .= ";background-color: #ffff99; font-weight: bold"; // 오늘 강조

    echo "<td style='{$style}'>{$day}</td>";

    $week_day++;

    // 줄 바꿈
    if ($week_day == 7) {
        echo "</tr>";
        if ($day != $total_days) echo "<tr>";
        $week_day = 0;
    }
}

// 마지막 줄 빈 칸 채우기
if ($week_day != 0) {
    for ($i = $week_day; $i < 7; $i++) {
        echo "<td></td>";
    }
    echo "</tr>";
}

echo "</table>";
?>
