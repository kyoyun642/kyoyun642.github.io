<?php
$year = date("Y");
$month = date("n");
$today = date("j");

$first_day = mktime(0, 0, 0, $month, 1, $year);
$first_day_weekday = date("w", $first_day);
$total_days = date("t", $first_day);

echo "<h2>{$year}년 {$month}월</h2>";
echo "<table border='1' cellpadding='10'>";
echo "<tr>
        <th style='color:red'>일</th>
        <th>월</th><th>화</th><th>수</th><th>목</th><th>금</th>
        <th style='color:blue'>토</th>
      </tr>";

echo "<tr>";

// 앞 빈칸 출력
for ($i = 0; $i < $first_day_weekday; $i++) {
    echo "<td></td>";
}

$week_day = $first_day_weekday;
for ($i = 1; $i <= $total_days; $i++) {
    $style = "";
    if ($week_day == 0) $style = "color:red";
    if ($week_day == 6) $style = "color:blue";
    if ($i == $today) $style .= "; background-color: #ffff99; font-weight: bold";

    echo "<td style='{$style}'>{$i}</td>";

    $week_day++;
    if ($week_day == 7) {
        echo "</tr>";
        if ($i != $total_days) echo "<tr>";
        $week_day = 0;
    }
}

// 마지막 줄 빈칸
if ($week_day != 0) {
    for ($j = $week_day; $j < 7; $j++) {
        echo "<td></td>";
    }
    echo "</tr>";
}

echo "</table>";
?>
